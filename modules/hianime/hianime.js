async function i(o){try{const e=encodeURIComponent(o),t=await fetch(`https://bshar1865-hianime.vercel.app/api/v2/hianime/search?q=${e}&language=dub`);if(!t||!t.ok)throw Error("Failed to get data from endpoint");const r=await t.json();if(!r||!r.success)throw Error("Failed to get data from endpoint");return r.data.animes.map(a=>({title:a.name,image:a.poster,href:a.id}))}catch(e){return console.log("Fetch error:",e),null}}async function n(o){try{const e=await fetch(`https://bshar1865-hianime.vercel.app/api/v2/hianime/anime/${o}`);if(!e||!e.ok)throw Error("Failed to get data from endpoint");const t=await e.json();if(!t||!t.success)throw Error("Failed to get data from endpoint");const r=t.data.anime.info,a=t.data.anime.moreInfo;return{description:r.description??null,aliases:null,airdate:a&&a.aired?a.aired:null}}catch(e){return console.log("Details error:",e),null}}async function s(o){try{const e=await fetch(`https://bshar1865-hianime.vercel.app/api/v2/hianime/anime/${o}/episodes`);if(!e||!e.ok)throw Error("Failed to get data from endpoint");const t=await e.json();if(!t||!t.success)throw Error("Failed to get data from endpoint");return t.data.episodes.map(r=>({href:r.episodeId,number:r.number}))}catch(e){return console.log("Episodes error:",e),null}}async function c(o){try{const e=await fetch(`https://bshar1865-hianime.vercel.app/api/v2/hianime/episode/sources?animeEpisodeId=${o}&category=dub`);if(!e||!e.ok)throw Error("Failed to get data from endpoint");const t=await e.json();if(!t||!t.success)throw Error("Failed to get data from endpoint");const r=t.data.sources.find(a=>a.type==="hls");if(!r)throw Error("No streaming source found");return r.url}catch(e){return console.log("Fetch error:",e),null}}export{n as extractDetails,s as extractEpisodes,c as extractStreamUrl,i as searchResults};
