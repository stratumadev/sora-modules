"use strict";export async function searchResults(n){try{const e=encodeURIComponent(n),t=await(await fetch(`https://bshar1865-hianime.vercel.app/api/v2/hianime/search?q=${e}&language=dub`)).json();if(!t)throw Error("Failed to get data from endpoint");return t.data.animes.map(r=>({title:r.name,image:r.poster,href:String(r.id)}))}catch(e){return console.log("Fetch error:",e),null}}export async function extractDetails(n){try{const a=await(await fetch(`https://bshar1865-hianime.vercel.app/api/v2/hianime/anime/${n}`)).json();if(!a)throw Error("Failed to get data from endpoint");const t=a.data.anime.info,r=a.data.anime.moreInfo;return{description:t.description??null,aliases:null,airdate:r&&r.aired?r.aired:null}}catch(e){return console.log("Details error:",e),null}}export async function extractEpisodes(n){try{const a=await(await fetch(`https://bshar1865-hianime.vercel.app/api/v2/hianime/anime/${n}/episodes`)).json();if(!a)throw Error("Failed to get data from endpoint");return a.data.episodes.map(t=>({href:t.episodeId.split("?ep=")[1],number:t.number}))}catch(e){return console.log("Episodes error:",e),null}}export async function extractStreamUrl(n){try{const t=(await(await fetch(`https://bshar1865-hianime.vercel.app/api/v2/hianime/episode/sources?animeEpisodeId=${n}&category=dub`)).json()).data.sources.find(r=>r.type==="hls");if(!t)throw Error("No streaming source found");return t.url}catch(e){return console.log("Fetch error:",e),null}}
