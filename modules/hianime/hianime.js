"use strict";async function searchResults(a){try{const t=encodeURIComponent(a),n=await(await fetch(`https://bshar1865-hianime.vercel.app/api/v2/hianime/search?q=${t}&language=dub`)).json();if(!n)throw Error("Failed to get data from endpoint");return n.data.animes.map(e=>({title:e.name,image:e.poster,href:`https://hianime.to/watch/${e.id}`}))}catch(t){return console.log("Fetch error:",t),null}}async function extractDetails(a){try{const t=a.match(/https:\/\/hianime\.to\/watch\/(.+)$/);if(!t)throw Error("No match found");const o=t[1],e=await(await fetch(`https://bshar1865-hianime.vercel.app/api/v2/hianime/anime/${o}`)).json();if(!e)throw Error("Failed to get data from endpoint");const r=e.data.anime.info,i=e.data.anime.moreInfo;return{description:r.description??"No description available",aliases:[`Duration: ${r.stats?.duration??"Unknown"}`],airdate:`Aired: ${i?.aired??"Unknown"}`}}catch(t){return console.log("Details error:",t),null}}async function extractEpisodes(a){try{const t=a.match(/https:\/\/hianime\.to\/watch\/(.+)$/);if(!t)throw Error("No match found");const o=t[1],e=await(await fetch(`https://bshar1865-hianime.vercel.app/api/v2/hianime/anime/${o}/episodes`)).json();if(!e)throw Error("Failed to get data from endpoint");return e.data.episodes.map(r=>({href:`https://hianime.to/watch/${o}?ep=${r.episodeId.split("?ep=")[1]}`,number:r.number}))}catch(t){return console.log("Episodes error:",t),null}}async function extractStreamUrl(a){try{const t=a.match(/https:\/\/hianime\.to\/watch\/(.+)$/);if(!t)throw Error("No match found");const o=t[1],r=(await(await fetch(`https://bshar1865-hianime.vercel.app/api/v2/hianime/episode/sources?animeEpisodeId=${o}&category=dub`)).json()).data.sources.find(i=>i.type==="hls");if(!r)throw Error("No streaming source found");return r.url}catch(t){return console.log("Fetch error:",t),null}}
